# bashenv

A bash environment (that rests atop bash).

## summary

## start

In the directions below, I assume you're using `bash` on a recent linux distro, for example [fedora](https://www.fedora.org/); it simplies
the directions until I need something more elaborate or on other platforms (such as windows or mac).

You start once. After that, when you `cd` to the git project, `direnv` should re-establish your local working environment.

Git clone the repository:

```bash
$p p='' top=mcarifio/bashenv
$p git clone https://github.com/${top} ${top} && cd ${top}
```

Install the supporting command line tools using the means you prefer, for example:

```bash
sudo dnf install -y direnv tree just
```
Alternatively:
```bash
sudo pj/bin/start.sh prerequisites
```


Check that you have the appropriate prerequisites:

```bash
(pj/bin/start.sh ckprerequisites || >&2 echo -e "\nNOT OK\n") || tee pj/log/ckprerequisites.log 
```
If you see `NOT OK`, read `pj/log/ckprerequsites.log` and fix what it suggests. 
This will be the most brittle part of the starting process.

I recommend `direnv` to organize your programming environment. Populate an `.envrc` file and `allow` it:
```bash
source pj/bin/mkenvrc
```

Finally confirm that you're good to go:
```bash
(start.sh doctor || >&2 echo -e "\nNOT OK\n") || tee pj/log/doctor.log
```
If you see `NOT OK`, read `pj/log/doctor.log` and fix what it suggests. 

## project layout

The project layout consists of two parts: the "project" part `pj/` and the actually content of `tysh` in `src`. The project "support" is by folder, e.g. `pj/bin` has
local scripts like `start.sh` and `pj`. You can add your scripts there as well. Here's the annotated layout:

```bash
$p tree -aF -I '.git*' -I '#*#' -I '.#*'  ## annotations are added manually like this; they're not part of the command output
./
├── LICENSE
├── pj/ ## the project
│   ├── bin/ ## scripts
│   │   ├── pj* 
│   │   └── start.sh*
│   ├── doc/ ## documentation
│   │   ├── README.md
│   │   └── todo.md
│   ├── log/ ## example logs for comparison
│   └── template/ ## starting points for your code
│       ├── .envrc ## starting point for .envrc used by `pj/bin/start.sh envrc`
│       └── script.bash.sh* ## pj/template/script.bash.sh is the starting point for a bash script
├── README.md ## you are here
└── bashenv/
```

The layout is a work in progress and subject to change. But understanding the layout aids navigation.

## hacking

I use emacs. You should use what suits you.

## more

* [pj/doc/README.md](pj/doc/README.md) is the entry into the documentation.
* [pj/doc/todo.md](pj/doc/todo.md) lists action items and questions.



